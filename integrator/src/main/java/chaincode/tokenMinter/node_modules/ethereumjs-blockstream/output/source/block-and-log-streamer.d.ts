import { Block } from "./models/block";
import { Log } from "./models/log";
import { Filter, FilterOptions } from "./models/filters";
export declare class BlockAndLogStreamer<TBlock extends Block, TLog extends Log> {
    private blockHistory;
    private logHistory;
    private latestBlock;
    private readonly blockRetention;
    private readonly getBlockByHash;
    private readonly getLogs;
    private readonly logFilters;
    private readonly onBlockAddedSubscribers;
    private readonly onBlockRemovedSubscribers;
    private readonly onLogAddedSubscribers;
    private readonly onLogRemovedSubscribers;
    constructor(getBlockByHash: (hash: string) => Promise<TBlock | null>, getLogs: (filterOptions: FilterOptions) => Promise<TLog[]>, configuration?: {
        blockRetention?: number;
    });
    static createCallbackStyle: <TBlock extends Block, TLog extends Log>(getBlockByHash: (hash: string, callback: (error?: Error | undefined, block?: TBlock | null | undefined) => void) => void, getLogs: (filterOptions: FilterOptions, callback: (error?: Error | undefined, logs?: TLog[] | undefined) => void) => void, configuration?: {
        blockRetention?: number | undefined;
    } | undefined) => BlockAndLogStreamer<TBlock, TLog>;
    readonly reconcileNewBlock: (block: TBlock) => Promise<void>;
    readonly reconcileNewBlockCallbackStyle: (block: TBlock, callback: (error?: Error | undefined) => void) => Promise<void>;
    private readonly onBlockAdded;
    private readonly onBlockRemoved;
    private readonly onLogAdded;
    private readonly onLogRemoved;
    readonly getLatestReconciledBlock: () => TBlock | null;
    readonly addLogFilter: (filter: Filter) => string;
    readonly removeLogFilter: (token: string) => void;
    readonly subscribeToOnBlockAdded: (onBlockAdded: (block: TBlock) => void) => string;
    readonly unsubscribeFromOnBlockAdded: (token: string) => void;
    readonly subscribeToOnBlockRemoved: (onBlockRemoved: (block: TBlock) => void) => string;
    readonly unsubscribeFromOnBlockRemoved: (token: string) => void;
    readonly subscribeToOnLogAdded: (onLogAdded: (log: TLog) => void) => string;
    readonly unsubscribeFromOnLogAdded: (token: string) => void;
    readonly subscribeToOnLogRemoved: (onLogRemoved: (log: TLog) => void) => string;
    readonly unsubscribeFromOnLogRemoved: (token: string) => void;
}
